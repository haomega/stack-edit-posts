
  
# 关于适配第三方接口的思考


## 前言

在做API适配时，如果只有单一的第三方接口，那么具体实现也就是调调接口而已。
当有不同的第三方提供同样的服务时，我们需要根据一定的条件灵活选择调用哪一个第三方接口，如需满足以上条件，就需要我们的功能拥有一个适配的功能；
主要适配两个部分：
* 参数转换，我们输入固定的参数，经过转换变成不同API需要的不同参数
* API响应转换，将不同API的响应转换成我们定义的固定形式

作为服务提供者，我们对用户屏蔽调用的逻辑，对于响应，我们抹去个性化统一返回固定的格式。

## 参数转换

将固定的参数转换成对应API需要的参数，这不是什么困难的问题，只需接口中定义一个转换方法，对应实现就行了。

## 结果转换

使用enum，或者map的形式，将原始参数类型与API对应类型一一对应

## 服务注册方式实现服务切换策略

提供注册功能，OCR服务自动注册到这里。

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg1ODYwMDE3LDkzMTM1NDg5MV19
-->